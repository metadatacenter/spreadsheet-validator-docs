---
title: API Reference
layout: home
nav_order: 1
---

Base URL: `https://api.metadatavalidator.metadatacenter.org/`

# Validate Spreadsheet

```
POST /service/validate
```

## Header

| Variable Name | Value |
| ------------- | ----- |
| `Content-Type` | `application/json` |

## Body Schema

```
{
  "spreadsheetData": [ MetadataRecord ],
  "cedarTemplateIri": "string"
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `spreadsheetData` | [ `MetadataRecord` ] | The metadata records. |
| `cedarTemplateIri` | string | The CEDAR Template IRI that provides the metadata specification. |

### Details on `MetadataRecord` type

```
{
  column1: Any,
  column2: Any,
  column3: Any,
  ...
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `column1`, `column2`, ..., `columnN` | Any | The column value. (Note: the variables `column1`, `column2`, ..., `columnN` shall be replaced by the actual column name in the spreadsheet). |

### Example

```
{
  "spreadsheetData": [
    {
      "sample_id": "Visium_9OLC_I4_S2",
      "source_storage_time_value": 208,
      "source_storage_time_unit": "day",
      "preparation_medium": "Methanol (100%)",
      "preparation_condition": "Ice",
      "processing_time_value": 4,
      "processing_time_unit": "minute",
      "storage_medium": "OCT embedded",
      "storage_condition": "-80 celsius freezer",
      "quality_criteria": "",
      "histological_report": "",
      "thickness_value": 10,
      "thickness_unit": "millimeter",
      "section_index_number": 3,
      "area_value": 15.84,
      "area_unit": "square millimeter",
      "notes": ""
    },
    {
      "sample_id": "",
      "source_storage_time_value": "86 days",
      "source_storage_time_unit": "days",
      "preparation_medium": "Formalin",
      "preparation_condition": "",
      "processing_time_value": "10 minutes",
      "processing_time_unit": "minutes",
      "storage_medium": "Paraffin embedded",
      "storage_condition": "Liquid nitrogen",
      "quality_criteria": "",
      "histological_report": 12.05,
      "thickness_value": 10,
      "thickness_unit": "mm",
      "section_index_number": 1,
      "area_value": 12.05,
      "area_unit": "mm^2",
      "notes": ""
    },
    {
      "sample_id": "",
      "source_storage_time_value": "86 days",
      "source_storage_time_unit": "days",
      "preparation_medium": "Formalin",
      "preparation_condition": "",
      "processing_time_value": "10 minutes",
      "processing_time_unit": "minutes",
      "storage_medium": "Paraffin embedded",
      "storage_condition": "Liquid nitrogen",
      "quality_criteria": "",
      "histological_report": 15.84,
      "thickness_value": 10,
      "thickness_unit": "mm",
      "section_index_number": 2,
      "area_value": 15.84,
      "area_unit": "mm^2",
      "notes": ""
    }
  ],
  "cedarTemplateIri": "https://repo.metadatacenter.org/templates/a9efb30e-4e2c-4d66-8890-b66204a4a774"
}
```

## Response Schema

```
{
  "schema": Schema,
  "data": [ OrderedMetadataRecord ],
  "reporting": [ ErrorReport ]
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `schema` | `Schema` | The metadata specification object. |
| `data` | [ `OrderedMetadataRecord` ] | The metadata records. |
| `reporting` | [ `ErrorReport` ] | The error reports generated by the validator algorithm. |

### Details on `Schema` type

```
{
  "name": "string",
  "columnDescription": ColumnDescription,
  "columnOrder": [ "string" ],
  "generatedFrom": "string"
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `name` | string | The name of the metadata specification (i.e., CEDAR template name). |
| `columnDescription` | `ColumnDescription` | The column description as mentioned in the metadata specification. |
| `columnOrder` | [ string ] | The column order as appear in the metadata specification. |
| `generatedFrom` | string | The CEDAR template IRI which links to the metadata specification. |

### Details on `ColumnDescription` type

```
{
  "column1": ColumnSchema,
  "column2": ColumnSchema,
  "column3": ColumnSchema,
  ...
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `column1`, `column2`, ..., `columnN` | `ColumnSchema` | The column specification. (Note: the variables `column1`, `column2`, ..., `columnN` shall be replaced by the actual column name in the spreadsheet). |

### Details on `ColumnSchema` type

```
{
  "name": "string",
  "label": "string",
  "type": "string",
  "subType": "string",
  "min": 0,
  "max": 0,
  "required": true,
  "description": "string",
  "permissibleValues: [ PermissibleValue ]
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `name` | string | The column's variable name. |
| `label` | string | The column's label. |
| `type` | string | The column's value type (possible values: "string", "number"). |
| `subType` | string | The column's value sub-type (possible values: "decimal", "integer"). |
| `min` | number | The minimum number constraint (used only when type = "number"). |
| `max` | number | The maximum number constraint (used only when type = "number"). |
| `required` | boolean | Whether the column must have a value or not. |
| `description` | string | The column's description. |
| `permissibleValues` | [ `PermissibleValue` ] | A list of values that can be used to fill out the column. |

### Details on `PermissibleValue` type

```
{
  "label": "string",
  "meaning": "string"
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `label` | string | The term's label found on the `rdfs:label` property in an ontology. |
| `meaning` | string | The term's IRI found in an ontology. |

### Details on `OrderedMetadataRecord` type

```
{
  rowNumber: number,
  column1: value1,
  column2: value2,
  column3: value3,
  ...
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `rowNumber` | number | The order number of the metadata record in the spreadsheet (start from 0). |
| `column1`, `column2`, ..., `columnN` | Any | The column value. |

### Details on `ErrorReport` type

```
{
  "errorType": "string",
  "column": "string",
  "row": 0,
  "value": Any
  "repairSuggestion": Any,
}
```

| Attribute Name | Type | Description |
| -------------- | ---- | ----------- |
| `errorType` | string | The type of error (possible values: "missingRequired", "notStandardTerm", "notNumberType", "notStringType", "numberOutOfRange"). |
| `column` | string | The column name (not label). |
| `row` | number | The row index number (start from 0). |
| `value` | Any | The original value from spreadsheet. |
| `repairSuggestion` | Any | The new value suggested by the validator's algorithm. |


## Response Code

| Code | Description |
| ---- | ----------- |
| 200 | Success. |
| 400 | The request could not be understood by the server due to malformed syntax in the request body. |
| 500 | The server encountered an unexpected condition that prevented it from fulfilling the request. |
